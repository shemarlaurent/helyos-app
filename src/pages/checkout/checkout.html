<ion-header>
    <ion-navbar hideBackButton="true">
      <ion-buttons left>
        <button ion-button navPop icon-only class="arrow-back">
          <ion-icon name="ios-arrow-back" color="primary"></ion-icon>
        </button>
      </ion-buttons>
      <ion-title text-center>Nebula Checkout</ion-title>
    </ion-navbar>
  </ion-header>

<ion-content padding>
  <div class="cont-box" (click)="setAddress()">
    <ion-row *ngIf="user">
      <ion-col col-3>
        <p class="title-p">Ship to:</p>
      </ion-col>
      <ion-col col-8 class="detail-p" >
        <p>{{ user.name }}</p>
        <p>{{ user.address1 }}</p>
        <p>{{ user.city }}, {{user.state}}, {{ user.zip_code }}.</p>
        <p>{{ user.country }}</p>
        <p>Phone number {{ user.phone }}</p>
      </ion-col>

      <ion-col col-1>
        <ion-icon class="chck-icon" name="ios-arrow-forward"></ion-icon>
      </ion-col>
    </ion-row>
  </div>

  <div class="cont-box" (click)="setPayment()">
    <ion-row *ngIf="user">
      <ion-col col-4>
        <p class="title-p">Pay with:</p>
      </ion-col>
      <ion-col col-7 class="detail-p">
        <p>{{ user.name }}</p>
        <p>{{ user.address1 }}</p>
        <p>{{ user.city }}, {{user.state}}, {{ user.zip_code }}.</p>
        <p>{{ user.country }}</p>
        <p>Phone number (860) xxxxx {{ user.card ? user.card.last_four : '' }}</p>
      </ion-col>

      <ion-col col-1>
        <ion-icon class="chck-icon" name="ios-arrow-forward"></ion-icon>
      </ion-col>
    </ion-row>
  </div>

  <div class="product-box cont-box" *ngIf="cart">
    <ion-row *ngFor="let item of cart">
      <ion-col col-3>
        <img [src]="item.product.images[0].url" alt="" />
      </ion-col>

      <ion-col col-7>
        <h3>{{ item.product.name.split(' ').slice(0, 2).join(' ') }}</h3>
        <p>Us Shoe Size(Mens): {{ item.size }}</p>
        <button ion-button clear>Remove</button>
      </ion-col>

      <ion-col col-2>
        <h4>{{ item.price }}</h4>
      </ion-col>
    </ion-row>
  </div>
  <br />

  <div class="bill est">
    <ion-row>
      <ion-col col-6>
        <p>Delivery</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6>
        <p>Est. delivery Date-Date</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6>
        <p>Standard Shipping</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6>
        <h4>Order Total</h4>
      </ion-col>
    </ion-row>
  </div>

  <br />

  <div class="bill" *ngIf="cart">
    <ion-row>
      <ion-col col-6>
        <p>Items({{ cart.length }})</p>
      </ion-col>

      <ion-col col-6>
        <p float-right>{{ total | currency:'USD':'symbol':'2.2' }}</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6>
        <p>Shipping</p>
      </ion-col>

      <ion-col col-6>
        <p float-right>0</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6>
        <p>Tax*</p>
      </ion-col>

      <ion-col col-6>
        <p float-right>0</p>
      </ion-col>
    </ion-row>
    <hr />
    <ion-row>
      <ion-col col-6>
        <h4>Order Total</h4>
      </ion-col>

      <ion-col col-6>
        <h4 float-right>{{ total | currency:'USD':'symbol':'2.2' }}</h4>
      </ion-col>
    </ion-row>
  </div>
  <p class="muted">
    By confirming you agree to the price above and acknowlegde that your order
    could be canceled due to over bookings.
  </p>
</ion-content>

<ion-footer padding>
    <button ion-button block class="footer-btn">
        <span class="d-flex">
            <img src="assets/icon/lock.png" alt="">
            Confirm and Pay
          </span>
    </button>
</ion-footer>
